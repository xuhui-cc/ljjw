<view class="container">

  <view class="nabigation_bar" style="height:{{naviBarHeight}}px;">
    
    <text class="my-head" style="margin-top:{{naviBarSelectSub_Top}}px;line-height:{{naviBarSelectSub_Height}}px">我的</text> 
  </view>

  <view wx:if="{{role < 0}}">
    <view class="my-info" style="margin-top:{{naviBarHeight}}px">
      <image class="my-ava" src="../../images/avatar_null.png"></image>

      <!-- <view class="state-layout"> -->
        <!-- <view class="no_login">请登录</view> -->
        <button class="no_login" open-type="getPhoneNumber" bindgetphonenumber="getPhoneNumber">请登录</button>
      <!-- </view> -->
    </view>
  </view>

  <!-- 学生 -->
  <view wx:elif="{{role == 4}}">

    <view class="my-info" style="margin-top:{{naviBarHeight}}px">
      <image class="my-ava" src="{{mydata.avatar}}"></image>

      <view class="state-layout">
        <view wx:if="{{mydata.realname != null}}" class="my-name">{{mydata.realname}}</view>
        <view wx:else="" class="my-name">{{userInfo.name}}</view>
        <view  class="flex" >
          <image wx:if="{{mydata.status_text == '在校'}}" class="school" src="../../images/inschool.png"></image>
          <image wx:if="{{mydata.status_text == '离校'}}" class="school" src="../../images/outschool.png"></image>
          <view wx:if="{{mydata.status_text == '在校' || mydata.status_text == '离校' || mydata.status_text == '基础信息审核中'}}" class="my-state">{{mydata.status_text}}</view>
          <view wx:elif="{{mydata.checked == 2}}" class="my-state" style="color:#f14444;">已驳回</view>
          <view wx:else="{{mydata.status_text == '请完成您的基础信息'}}" bindtap="to_stu_info" data-type="{{0}}" class="my-state">{{mydata.status_text}}</view>
          <image wx:if="{{mydata.status_text == '请完成您的基础信息'}}" class="to-add" src="../../images/next.png" ></image>
        </view>
      </view>

      <view wx:if="{{mydata.status_text == '基础信息审核中' || mydata.checked == 2}}" class="flex" bindtap="to_stu_info" data-type="2">
        <view class="change-state">修改信息</view>
        <image class="to-change" src="../../images/next.png"></image>
      </view>

      <view wx:if="{{mydata.status_text == '您还没有班级！'}}" class="flex" bindtap="to_stu_info" data-type="2">
        <view class="change-state">修改信息</view>
        <image class="to-change" src="../../images/next.png"></image>
      </view>

      <view wx:if="{{mydata.status_text == '在校'}}" class="flex" bindtap="to_stu_jcxx">
        <view class="change-state">基础信息查看</view>
        <image class="to-change" src="../../images/next.png"></image>
      </view>
      <view wx:if="{{mydata.status_text == '离校'}}" class="flex" bindtap="to_stu_jcxx">
        <view class="change-state">基础信息查看</view>
        <image class="to-change" src="../../images/next.png"></image>
      </view>

    
    </view>


    <view class="class-data" bindtap="to_student_data">
      <view class="flex_row">
        <image class="img" src="../../images/class_data.png"></image>
        <view class="tea-shu" style="background:rgba(128,183,255,1);"></view>
        <view class="tea-cla-data">班级资料</view>
      </view>
      <view class="flex_row">
        <image class="img-next" src="../../images/next.png"></image>
      </view>
    </view>

    <view class="class-data" bindtap="to_class_data">
      <view class="flex_row">
        <image class="img" src="../../images/my_collection_item.png"></image>
        <view class="tea-shu" style="background:rgba(255,168,72,1);"></view>
        <view class="tea-cla-data">我的收藏</view>
      </view>
      <view class="flex_row">
        <image class="img-next" src="../../images/next.png"></image>
      </view>
    </view>
    <view class="class-data" bindtap="to_feedBack">
      <view class="flex_row">
        <image class="img" src="../../images/my_teacher_feedBack.png"></image>
        <view class="tea-shu" style="background:#61B25E;"></view>
        <view class="tea-cla-data">申请与反馈</view>
      </view>
      <view class="flex_row">
        <view class="sectionHeader_dot" wx:if="{{teacherNotDealCount > 0}}">{{teacherNotDealCount > 9 ? '9+' : teacherNotDealCount}}</view>
        <image class="img-next" src="../../images/next.png"></image>
      </view>
    </view>

  </view>
  <!-- 非学生 -->

  <view wx:else="{{role > 0 && role < 4}}">

    <view class="my-info" style="margin-top:{{naviBarHeight}}px">
      <image class="my-ava" src="{{userInfo.avatar}}"></image>

      <view class="state-layout">
        <view class="my-name">{{userInfo.name}}</view>

        <view class="flex">
          <image class="role-img" src="../../images/tea.png"></image>
          <view wx:if="{{role == 1}}" class="role-name">老师</view>
          <view wx:if="{{role == 2}}" class="role-name">教务</view>
          <view wx:if="{{role == 3}}" class="role-name">管理员</view>
        </view>

      </view>
    </view>

    <view wx:if="{{role > 0 && role < 3}}">
      <view class="class-data" bindtap="to_tea_data">
        <view class="flex_row">
          <image class="img" src="../../images/class_data.png"></image>
          <view class="tea-shu" style="background:rgba(128,183,255,1);"></view>
          <view class="tea-cla-data">班级资料</view>
        </view>
        <view class="flex_row">
          <image class="img-next" src="../../images/next.png"></image>
        </view>
      </view>

      <view class="class-data" bindtap="to_tea_sinfo">
        <view class="flex_row">
          <image class="img" src="../../images/stu_data.png"></image>
          <view class="tea-shu" style="background:rgba(255,168,72,1);"></view>
          <view class="tea-cla-data">学生档案</view>
        </view>
        <view class="flex_row">
          <image class="img-next" src="../../images/next.png"></image>
        </view>
      </view>
    </view>
    <view class="class-data" bindtap="to_tea_feedBack">
      <view class="flex_row">
        <image class="img" src="../../images/my_teacher_feedBack.png"></image>
        <view class="tea-shu" style="background:#61B25E;"></view>
        <view class="tea-cla-data">申请与反馈</view>
      </view>
      <view class="flex_row">
        <view class="sectionHeader_dot" wx:if="{{teacherNotDealCount > 0}}">{{teacherNotDealCount > 9 ? '9+' : teacherNotDealCount}}</view>
        <image class="img-next" src="../../images/next.png"></image>
      </view>
    </view>
  </view>
<!-- container -->
</view>
